/* DEPENDENCIES INSIDE:
*	- onDomReady.js 1.2 (c) 2012 Tubal Martin - MIT license 
*	- 140 medley (c) 2011 - Honza Pokorny Licensed under the terms of the BSD license
*	- Vine : An events library that supports binding, unbinding, and triggering events on DOM elements or JavaScript Objects
*	- W, width management tool for responsive designs
*	- Tween functions: linearTween, easeInQuad, easeOutQuad, easeInOutQuad, easeInCubic, easeOutCubic, easeInOutCubic, easeInQuart, easeOutQuart, easeInOutQuart, easeInQuint, easeOutQuint, easeInSine, easeOutSine, easeInOutSine, easeInExpo, easeOutExpo, easeInCirc, easeOutCirc, easeInOutCirc
*	- c.sa.utils.js
*
*
 * Simple Animation :
 * (c) 2013 - Ben Priddy
 *	FILE LIST: 
 *	- c._sa.js
 *	- c.sa.element.js
 *	- c.sa.sprite.js
 *	- c.sa.image_seq.js
 *	- c.sa.scroll.js
 *	- c.sa.timer.js
 *	- c.sa.touchmove.js
 */
function scrollTo(e,t,n){var r;var i=getScrollTop(e);var s=t-i;var o=0;var u=function(){o+=16;var t=Math.easeInOutQuad(o,i,s,n);getScrollTop(e,t);if(o<n){window.requestAnimationFrame(u)}};u()}!function(e){typeof define=="function"&&define.amd?define(e):window.onDomReady=e()}(function(){"use strict";function e(t){if(!m){if(!s.body)return n(e);m=!0;while(t=g.shift())n(t)}}function t(){d?(s.removeEventListener(h,t,u),e()):s[f]===a&&(s.detachEvent(p,t),e())}function n(e,t){setTimeout(e,+t>=0?t:1)}function r(e){m?n(e):g.push(e)}var i=window,s=i.document,o=s.documentElement,u=!1,a="complete",f="readyState",l="attachEvent",c="addEventListener",h="DOMContentLoaded",p="onreadystatechange",d=c in s,v=u,m=u,g=[];if(s[f]===a)n(e);else if(d)s[c](h,t,u),i[c]("load",e,u);else{s[l](p,t),i[l]("onload",e);try{v=i.frameElement==null&&o}catch(y){}v&&v.doScroll&&function b(){if(!m){try{v.doScroll("left")}catch(t){return n(b,50)}e()}}()}return r.version="1.2",r});var t=function(e,t){return function(n,r){return e.replace(/#{([^}]*)}/g,function(e,i){return Function("x","with(x)return "+i).call(n,r||t||{})})}};var s=function(e,t){return t?{get:function(n){return e[n]&&t.parse(e[n])},set:function(n,r){e[n]=t.stringify(r)}}:{}}(this.localStorage||{},JSON);var b=function(e,t,n,r){n=n||document;r=n[t="on"+t];e=n[t]=function(i){r=r&&r(i=i||n.event);return(e=e&&t(i))?t:r};n=this};var m=function(e,t,n){t=document;n=t.createElement("p");n.innerHTML=e;e=t.createDocumentFragment();while(t=n.firstChild)e.appendChild(t);return e};var $$=function(e,t){e=e.match(/^(\W)?(.*)/);var n=(t||document)["getElement"+(e[1]?e[1]=="#"?"ById":"sByClassName":"sByTagName")](e[2]);n=n.length&&n.length>1?n[0]:n;return n};var getElementsByClassNameFill=function(e){var t=[],n=new RegExp("(^| )"+e+"( |$)"),r=this.getElementsByTagName("*");for(var i=0,s=r.length;i<s;i++){if(n.test(r[i].className)){t.push(r[i])}}return t};var gebcn="getElementsByClassName";if(!document[gebcn]){var ep=typeof HTMLElement!=="undefined"?HTMLElement.prototype:Element.prototype;ep[gebcn]=getElementsByClassNameFill;document[gebcn]=getElementsByClassNameFill}var j=function(e){for(e=0;e<4;e++)try{return e?new ActiveXObject([,"Msxml2","Msxml3","Microsoft"][e]+".XMLHTTP"):new XMLHttpRequest}catch(t){}};vine=function(e,t,n,r,i,s,o,u,a){function f(r,i){return i=r[e]=r[e]||t++,n[i]||(n[i]={b:{},e:{}})}function l(e){return e.charAt?o.getElementById(e):e}return u={d:f,id:l,Event:a=function(e,t,n){n=this;for(t in e)n[t]=n[t]||e[t];n.timestamp=+(new Date),n.target||(n.target=n.srcElement)},bind:function(e,t,n,o,a,c,p,v){if((v=(p=t.split(" ")).length)>1)while(v--)u.bind(e,p[v],n);else{e=l(e),a=f(e);if(c=/^(.+)\.([^\.]+)$/.exec(t))t=c[2],c=c[1];(a.e[t]||(a.e[t]=[])).push({n:c,f:n,d:o||{}}),!a.b[t]&&(a.b[t]=1,e[i]?e[i](t,function(n){u.trigger(e,t,n)[r]&&n.preventDefault()},null):e[s]("on"+t,function(){return!u.trigger(e,t,window.event)[r]}))}},trigger:function(e,t,n,i,s,u,c,h,p){e=l(e);if(!n&&e.nodeType){if(!e.fireEvent)return c=o.createEvent((init=/click|mousedown|mouseup|mousemove/.test(t))?"MouseEvents":"HTMLEvents"),c[init?"initMouseEvent":"initEvent"](t,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(c),c;try{return new a({defaultPrevented:e[t==="click"?t:fireEvent]("on"+t)})}catch(v){}}c=new a(n||{});if(i=f(e).e[t]){for(s=0,u=i.length;s<u;s++)if(p=i[s])c.namespace=p.n,c.data=p.d,h=h||p.f.call(e,c)===!1;c[r]=c[r]||h}return c},unbind:function(t,r,i,s,o,u,a){t=l(t);if(!r)return n[t[e]]=t[e]=null;i=f(t);if(r.charAt)if(r.charAt(0)==="."){r=r.substring(1);for(o in i.e){a=i.e[o],u=a.length;for(s=0;s<u;s++)a[s].n===r&&(a[s]=null)}}else i.e[r]=[];else for(o in i.e){a=i.e[o],u=a.length;for(s=0;s<u;s++)a[s].f===r&&(a[s]=null)}}},a.prototype={defaultPrevented:!1,preventDefault:function(){this[r]=!0}},u}(+(new Date),1,{},"defaultPrevented","addEventListener","attachEvent",document);this.W=function(){var e=window,t=document,n=t.documentElement,r,i,s="style",o="createElement",u="appendChild",a="offsetHeight",f="offsetWidth",l=[];return function(p){var v=typeof p,m,y,w;if(v=="function")(y=e.addEventListener)?y("resize",p,!1):e.attachEvent("onresize",p),l.length||(r=t[o]("b"),r[s].position="absolute",r[s].top="-99em",r.innerHTML="W",n[u](r),i=r[a],setInterval(function(e,t){if(i!=(t=r[a])){e=l.length;while(e)l[--e]()}i=t},250)),l.push(p);else{y=t[o]("div"),y[s].width="1em",n[u](y),m=y[f],m=m?m:16,n.removeChild(y);if(v=="number")return p/m;y=n[f],(w=e.innerWidth)||(w=n.clientWidth),y=(w-y)*100/w<5?w:y;return p?y/m:y}}}();Math.linearTween=function(e,t,n,r){return n*e/r+t};Math.easeInQuad=function(e,t,n,r){e/=r;return n*e*e+t};Math.easeOutQuad=function(e,t,n,r){e/=r;return-n*e*(e-2)+t};Math.easeInOutQuad=function(e,t,n,r){e/=r/2;if(e<1)return n/2*e*e+t;e--;return-n/2*(e*(e-2)-1)+t};Math.easeInCubic=function(e,t,n,r){e/=r;return n*e*e*e+t};Math.easeOutCubic=function(e,t,n,r){e/=r;e--;return n*(e*e*e+1)+t};Math.easeInOutCubic=function(e,t,n,r){e/=r/2;if(e<1)return n/2*e*e*e+t;e-=2;return n/2*(e*e*e+2)+t};Math.easeInQuart=function(e,t,n,r){e/=r;return n*e*e*e*e+t};Math.easeOutQuart=function(e,t,n,r){e/=r;e--;return-n*(e*e*e*e-1)+t};Math.easeInOutQuart=function(e,t,n,r){e/=r/2;if(e<1)return n/2*e*e*e*e+t;e-=2;return-n/2*(e*e*e*e-2)+t};Math.easeInQuint=function(e,t,n,r){e/=r;return n*e*e*e*e*e+t};Math.easeOutQuint=function(e,t,n,r){e/=r;e--;return n*(e*e*e*e*e+1)+t};Math.easeInOutQuint=function(e,t,n,r){e/=r/2;if(e<1)return n/2*e*e*e*e*e+t;e-=2;return n/2*(e*e*e*e*e+2)+t};Math.easeInSine=function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t};Math.easeOutSine=function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t};Math.easeInOutSine=function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t};Math.easeInExpo=function(e,t,n,r){return n*Math.pow(2,10*(e/r-1))+t};Math.easeOutExpo=function(e,t,n,r){return n*(-Math.pow(2,-10*e/r)+1)+t};Math.easeInOutExpo=function(e,t,n,r){e/=r/2;if(e<1)return n/2*Math.pow(2,10*(e-1))+t;e--;return n/2*(-Math.pow(2,-10*e)+2)+t};Math.easeInCirc=function(e,t,n,r){e/=r;return-n*(Math.sqrt(1-e*e)-1)+t};Math.easeOutCirc=function(e,t,n,r){e/=r;e--;return n*Math.sqrt(1-e*e)+t};Math.easeInOutCirc=function(e,t,n,r){e/=r/2;if(e<1)return-n/2*(Math.sqrt(1-e*e)-1)+t;e-=2;return n/2*(Math.sqrt(1-e*e)+1)+t};var sa_debug=false;(function(){var e=0;var t=["ms","moz","webkit","o"];for(var n=0;n<t.length&&!window.requestAnimationFrame;++n){window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame)window.requestAnimationFrame=function(t,n){var r=(new Date).getTime();var i=Math.max(0,16-(r-e));var s=window.setTimeout(function(){t(r+i)},i);e=r+i;return s};if(!window.cancelAnimationFrame)window.cancelAnimationFrame=function(e){clearTimeout(e)}})();var getHeight=function(e){var e=e?e:"document";var t;if(e=="document"){var n=document;t=Math.max(Math.max(n.body.scrollHeight,n.documentElement.scrollHeight),Math.max(n.body.offsetHeight,n.documentElement.offsetHeight),Math.max(n.body.clientHeight,n.documentElement.clientHeight))}else{t=$$(e).scrollHeight}return t};var getScrollTop=function(e,t){var e=e?e:"document";var n;if(e!="document"){var r=$$(e);if(t){r["scrollTop"]=t}else{n=r["scrollTop"]}}else{if(typeof pageYOffset!="undefined"){if(t){log(t);window.scroll(0,Math.round(t))}else{n=pageYOffset}}else{var i=document.body;var s=document.documentElement;s=s.clientHeight?s:i;if(t){s.scrollTop=t}else{n=s.scrollTop}}}return n};var mergeObjects=function(e,t){var n={};if(typeof e!=="object"||typeof t!=="object"){return sa_debug?alert("both items passed into mergeObjects must be objects"):null}for(k in e){n[k]=t[k]?t[k]:e[k]?e[k]:null}for(k in t){if(!n[k]){n[k]=t[k]}}return n};HTMLDivElement.prototype.height=function(){var e=this.offsetHeight;if(this.currentStyle){var t=this.currentStyle;e+=t["margin-top"]+=t["margin-bottom"]+=t["padding-top"]+=t["padding-bottom"]}else{e+=parseInt(document.defaultView.getComputedStyle(this,null).getPropertyValue("margin-top").replace("px",""));e+=parseInt(document.defaultView.getComputedStyle(this,null).getPropertyValue("margin-bottom").replace("px",""));e+=parseInt(document.defaultView.getComputedStyle(this,null).getPropertyValue("padding-top").replace("px",""));e+=parseInt(document.defaultView.getComputedStyle(this,null).getPropertyValue("padding-bottom").replace("px",""))}return e};HTMLDivElement.prototype.width=function(){var e=this.offsetWidth;if(this.currentStyle){var t=this.currentStyle;e+=t["margin-left"]+=t["margin-right"]+=t["padding-left"]+=t["padding-right"]}else{e+=parseInt(document.defaultView.getComputedStyle(this,null).getPropertyValue("margin-left").replace("px",""));e+=parseInt(document.defaultView.getComputedStyle(this,null).getPropertyValue("margin-right").replace("px",""));e+=parseInt(document.defaultView.getComputedStyle(this,null).getPropertyValue("padding-left").replace("px",""));e+=parseInt(document.defaultView.getComputedStyle(this,null).getPropertyValue("padding-right").replace("px",""))}return e};var simpleAnimation=function(e,t){var n=this;var r=1e3;var s=0;var o="test";var u=false;e=e?e:{};var a=function(e,t){var r={element:null,totalSteps:1e4,firstStep:0,animationResolution:10,autoEnable:false,animateCompleteCallback:function(){}};n.options=mergeObjects(r,e);if(t){n.options.animateCompleteCallback=t}n.options.instructions=o};var f=function(){if(!u){window.requestAnimationFrame(n.processStep);u=true}};var l=function(e,t){switch(e.model().type){case"sprite":var r=Math.round((e.model().frames-e.model().startframe)*t)+e.model().startframe;log("sprite setValues ",r);e.goToFrame(r);break;case"css":var i=$$(e.model().element);for(var s in e.model().startValues){var o;switch(t){case 0:o=e.model().startValues[s];break;case 1:o=e.model().endValues[s];break;default:if(e.model().easing!="none"){var u=e.model().endValues[s]-e.model().startValues[s];var a=Math[e.model().easing](t,e.model().startValues[s],u,1)}else{var a=(e.model().endValues[s]-e.model().startValues[s])*t+e.model().startValues[s]}o=Math.round(a*n.options.animationResolution)/n.options.animationResolution;break}if(s=="rotate"){i.style["-webkit-transform"]="rotate("+o+"deg)";i.style["-moz-transform"]="rotate("+o+"deg)";i.style["-ms-transform"]="rotate("+o+"deg)";i.style["-o-transform"]="rotate("+o+"deg)";i.style["transform"]="rotate("+o+"deg)"}else if(s=="opacity"){i.style["filter"]="alpha(opacity="+o*100+")";i.style["-moz-opacity"]=o;i.style["-khtml-opacity"]=o;i.style["opacity"]=o;i.style["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity="+o*100+")";i.style["filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity="+o*100+")"}else{i.style[s]=o+"px"}}break}};var c=function(e,t){log("looking for "+e);if(typeof window[e]=="function"){window[e](t)}};a(e,t);n.animationElements;n.options;n.instructions=function(){return o};n.addElement=function(e){if(!(e instanceof animationElement)){return false}if(!n.animationElements){n.animationElements=[]}if(!n.animationElements[e.element()]){n.animationElements[e.element()]=new Array}n.animationElements[e.element()].push(e)};n.step=function(){f()};n.inputJSON=function(e){if(!e){return alert("must pass json to this function")}var t=e;for(i=0;i<t.length;i++){if(t[i]!=undefined&&t[i]!=null&&t[i].values!=null){var r=t[i].values;var s=new Object;var o=new Object;for(var u in r){s[u]=r[u].s;o[u]=r[u].e}var a=t[i].startend.s;var f=t[i].startend.e;var l=new animationElement(t[i].element,{startValues:s,endValues:o,unit:t[i].unit,animationStartPoint:a,animationEndPoint:f,easing:t[i].easing});n.addElement(l)}}};n.processStep=function(e){s=n.calculateCurrentStep();for(var t in n.animationElements){for(var r=0;r<n.animationElements[t].length;r++){var i=n.animationElements[t][r];var o=i.model().unit=="%"?i.model().animationStartPoint/100*n.options.totalSteps:i.model().animationStartPoint;var a=i.model().unit=="%"?i.model().animationEndPoint/100*n.options.totalSteps:i.model().animationEndPoint;var f=i.model().element.match(/^(\W)?(.*)/)[2];if(s>o&&s<a){if(i.model().inRange=="before"){c(f+r+"_Anim_Start",i.model().animationStartPoint)}else if(i.model().inRange=="after"){c(f+r+"_Anim_End",i.model().animationEndPoint)}i.model().inRange="during";l(i,(s-o)/(a-o))}else if(s<o&&i.model().inRange!="before"){i.model().inRange="before";c(f+r+"_Anim_Start",i.model().animationStartPoint);l(i,0)}else if(s>a&&i.model().inRange!="after"){i.model().inRange="after";c(f+r+"_Anim_End",i.model().animationEndPoint);l(i,1)}}}u=false;n.stepComplete()}};simpleAnimation.prototype.calculateCurrentStep=function(){return currentStep};simpleAnimation.prototype.stepComplete=function(){currentStep++};simpleAnimation.prototype.destroy=function(){this.animationElements=null};var animationElement=function(e,t,n){if(!e){return"must provide element"}var r=this;var i;var s;var o="these are the rules for using this Object";t=t?t:{};var u=function(t,n){var r={element:null,type:"css",unit:"px",inRange:"before",animationStartPoint:0,animationEndPoint:100,startValues:{},endValues:{},animationStepCallBack:{},easing:"none",currStep:0,storeInElement:false,animationCompleteCallBack:function(e){}};s=mergeObjects(r,t);if(n){s.scrollCompleteCallback=n}s.element=e;i=zest(s.element)};u(t,n);r.model=function(){return s};r.element=function(){return s.element};r.goToFrame=function(e){s.animationStepCallBack(e)}};var spriteAnimation=function(e,t){var n=this;var r;var i=1;var s=1;var o;var u;var a=function(e,t){var n={fps:12,cols:10,rows:2,stopAt:null,cell_width:250,cell_height:250,loop:false,stopAt:null,src:"images/sprite.png",spriteElement:"<div class='sprite _1'></div>",endFrame:null,loadingVisible:true,loadingElement:null,loadCallBack:null,autoplay:true,loadCallBack:function(e){},animationCompleteCallback:function(){}};u=mergeObjects(n,e);if(t){u.loadCallBack=t}r=u.spriteElement};var f=function(){log("animate",i);log(u.cell_width);var e=-((i-1)*u.cell_width);var t=-((s-1)*u.cell_height);var n=$$(r);n.style["backgroundPosition"]=e+"px "+t+"px";if(i<=u.cols){i++}else if(u.loop==true){i=1}else{if(u.endFrame!=null){n.style["background-position"]=u.cell_width+"px"}clearInterval(o)}if(u.stopAt&&i>=u.stopAt){clearInterval(o)}};a(e,t);this.model=function(){return u};this.instructions=function(){return instructions};this.image=function(){return u.src};this.start=function(){o=setInterval(function(){f()},parseInt(1e3/u.fps))};this.pause=function(){clearInterval(o)};this.reset=function(){i=1;var e=-((i-1)*u.cell_width);var t=-((s-1)*u.cell_height);var n=$$(r);n.style["background-position"]=e+"px "+t+"px"};this.element=function(){return r};this.changeRow=function(e){s=e};this.goToFrame=function(e){if(e<1){e=1}if(e>u.cols){e=u.cols}log("gotoframe",e);i=parseInt(e);f();return r};this.step=function(){if(u.cols>i+1){i++;f()}return r}};var imageSequenceAnimation=function(t,n){var r=this;var i;var s=0;var o=0;var u;var f;var l;var h;var p;var v=function(e,t){var n={fps:12,totalFrames:10,loop:false,srcBase:"images/sprite",ext:"jpg",sequenceElement:"<div class='sequence _1'></div>",endFrame:null,stopAt:null,loadingVisible:true,loadingElement:null,loadCallBack:null,autoplay:true,loadCallBack:function(e){},animationCompleteCallback:function(){}};r.options=mergeObjects(n,e);if(t){p.loadCallBack=t}i=r.options.sequenceElement;m()};var m=function(){var e=document.createElement("div");e.className="a";e.style.position="absolute";e.style.height="100%";e.style.width="100%";e.style.top=0;e.style.left=0;e.style.backgroundPosition="top center";var t=document.createElement("div");t.className="b";t.style.position="absolute";t.style.height="100%";t.style.width="100%";t.style.top=0;t.style.left=0;t.style.backgroundPosition="top center";var n=document.createElement("div");n.className="c";n.style.position="absolute";n.style.height="100%";n.style.width="100%";n.style.top=0;n.style.left=0;n.style.backgroundPosition="top center";var o=document.createElement("div");o.className="d";o.style.position="absolute";o.style.height="100%";o.style.width="100%";o.style.top=0;o.style.left=0;o.style.backgroundPosition="top center";var a=document.createElement("div");a.className="e";a.style.position="absolute";a.style.height="100%";a.style.width="100%";a.style.top=0;a.style.left=0;a.style.backgroundPosition="top center";$$(i).appendChild(t);$$(i).appendChild(n);$$(i).appendChild(o);$$(i).appendChild(a);$$(i).appendChild(e);u=$$(i+" .a");f=$$(i+" .b");Next_Next_Child=$$(i+" .d");l=$$(i+" .c");Previous_Previous_Child=$$(i+" .e");log(r);var c=s<r.options.totalFrames?s+1:r.options.totalFrames;var h=s+1<r.options.totalFrames?s+2:r.options.totalFrames;var p=s>0?s-1:0;var d=s-1>0?s-2:0;u.style["backgroundImage"]="url('"+r.options.srcBase+s+"."+r.options.ext+"')";f.style["backgroundImage"]="url('"+r.options.srcBase+c+"."+r.options.ext+"')";Next_Next_Child.style["backgroundImage"]="url('"+r.options.srcBase+h+"."+r.options.ext+"')";l.style["backgroundImage"]="url('"+r.options.srcBase+p+"."+r.options.ext+"')";Previous_Previous_Child.style["backgroundImage"]="url('"+r.options.srcBase+d+"."+r.options.ext+"')"};var g=function(t){a=u,b=f,c=l,d=Next_Next_Child,e=Previous_Previous_Child;if(s>o){u=b,l=a,f=d,Previous_Previous_Child=c,Next_Next_Child=e;l.style.display="none";f.style.display="none";Previous_Previous_Child.style.display="none";Next_Next_Child.style.display="none";u.style.display="block"}else{u=c,l=e,f=a,Previous_Previous_Child=d,Next_Next_Child=b;l.style.display="none";f.style.display="none";Previous_Previous_Child.style.display="none";Next_Next_Child.style.display="none";u.style.display="block"}if(!t){if(s<=r.options.totalFrames){o=s;s++}else if(p.loop==true){s=o=1}else{if(p.endFrame!=null){$$(i).style["background-position"]=p.cell_width+"px"}clearInterval(h)}if(r.options.stopAt&&s>=r.options.stopAt){clearInterval(h)}}var n=s<r.options.totalFrames?s+1:r.options.totalFrames;var v=s+1<r.options.totalFrames?s+2:r.options.totalFrames;var m=s>0?s-1:0;var g=s-1>0?s-2:0;f.style["backgroundImage"]="url('"+r.options.srcBase+n+"."+r.options.ext+"')";Next_Next_Child.style["backgroundImage"]="url('"+r.options.srcBase+v+"."+r.options.ext+"')";l.style["backgroundImage"]="url('"+r.options.srcBase+m+"."+r.options.ext+"')";Previous_Previous_Child.style["backgroundImage"]="url('"+r.options.srcBase+g+"."+r.options.ext+"')"};v(t,n);this.model=function(){return p};this.instructions=function(){return instructions};this.image=function(){return p.src};this.start=function(){h=setInterval(function(){g()},parseInt(1e3/r.options.fps))};this.pause=function(){clearInterval(h)};this.reset=function(){s=1;g()};this.element=function(){return i};this.changeRow=function(e){Current_Row=e};this.goToFrame=function(e){if(s!=parseInt(e)){s=parseInt(e);g(true)}return i};this.step=function(){if(p.cols>s+1){s++;g()}return i}};var sScrollAnimation=function(e,t){var n=this;var r="";e=e?e:{};var i=function(e,t){simpleAnimation.call(n);var i={context:window,autoEnable:false};n.options=mergeObjects(i,n.options);n.options=mergeObjects(n.options,e);if(t){n.options.animateCompleteCallback=t}n.options.instructions=r;if(n.options.autoEnable==true){n.bindScroll()}n.setStepValues()};n.bindScroll=function(){var e=this.options.context==window?window:zest(this.options.context).length?zest(this.options.context)[0]:zest(this.options.context);log(this.options.context);vine.unbind(e,"scroll",n.step);vine.bind(e,"scroll",n.step)};n.unBindScroll=function(){n.options.context.unbind("scroll",n.step)};i(e,t)};sScrollAnimation.prototype=new simpleAnimation;sScrollAnimation.prototype.constructor=sScrollAnimation;sScrollAnimation.prototype.setStepValues=function(){var e=this.options.context==window?"":this.options.context;var t=getHeight(e);var n=this.options.context==window?window.innerHeight:zest(this.options.context).length?zest(this.options.context)[0].offsetHeight:zest(this.options.context).offsetHeight;log(n);this.options.totalSteps=t-n};sScrollAnimation.prototype.calculateCurrentStep=function(){var e=this.options.context==window?"":this.options.context;var t=getScrollTop(e);return t};sScrollAnimation.prototype.stepComplete=function(){};var sTimerAnimation=function(e,t){var n=this;var r="";e=e?e:{};var i=function(e,t){simpleAnimation.call(n);var i={totalTime:1e4,autoStart:false,timerON:true};n.options=mergeObjects(i,n.options);n.options=mergeObjects(n.options,e);if(t){n.options.animateCompleteCallback=t}n.options.instructions=r;n.options.totalSteps=n.options.totalTime/16;if(n.options.autoStart==true){n.timerStart()}};n.currentStep=0;n.Timer=function(e){if(n.options.timerON!=false){window.requestAnimationFrame(n.Timer);n.processStep()}};n.timerStart=function(){n.options.timerON=true;window.requestAnimationFrame(n.Timer)};n.timerStop=function(){window.cancelAnimationFrame(n.Timer);n.options.timerON=false};n.timerReset=function(){n.currentStep=0;currentStep=n.options.firstStep};i(e,t)};sTimerAnimation.prototype=new simpleAnimation;sTimerAnimation.prototype.constructor=sTimerAnimation;sTimerAnimation.prototype.calculateCurrentStep=function(){return this.currentStep};sTimerAnimation.prototype.stepComplete=function(){if(this.currentStep<this.options.totalSteps){this.currentStep++}else{this.timerStop();this.timerReset()}};var sTouchMoveAnimation=function(e,t){function n(e){s.lastTouchY=e.changedTouches[0].screenY}function r(e){s.lastTouchY=-1}function i(e){e.preventDefault();s.touchmoveTop-=(e.changedTouches[0].screenY-s.lastTouchY)*s.options.multiplier;if(s.touchmoveTop<0){s.touchmoveTop=0}else if(s.touchmoveTop>s.options.maxTop){s.touchmoveTop=s.options.maxTop}s.lastTouchY=e.changedTouches[0].screenY;s.step();log(s.touchmoveTop);s.options.scrollStepCallBack(s.touchmoveTop)}var s=this;var o="";e=e?e:{};s.touchmoveTop=0;s.lastTouchY=-1;var u=function(e,t){simpleAnimation.call(s);var n={context:window,autoEnable:false,maxTop:1e4,multiplier:1,scrollStepCallBack:function(e){}};s.options=mergeObjects(n,s.options);s.options=mergeObjects(s.options,e);if(t){s.options.animateCompleteCallback=t}s.options.instructions=o;if(s.options.autoEnable==true){s.bindScroll()}};s.bindScroll=function(){s.options.context.removeEventListener("touchmove",i);s.options.context.addEventListener("touchmove",i);s.options.context.removeEventListener("touchstart",n);s.options.context.addEventListener("touchstart",n);s.options.context.removeEventListener("touchend",r);s.options.context.addEventListener("touchend",r)};s.unBindScroll=function(){s.options.context.removeEventListener("touchmove",i);s.options.context.removeEventListener("touchstart",n);s.options.context.removeEventListener("touchend",r)};s.maxTop=function(e){s.options.maxTop=e};s.touchStep=function(e){if(!e){return s.touchmoveTop}else{s.touchmoveTop=e;s.step()}};u(e,t)};sTouchMoveAnimation.prototype=new simpleAnimation;sTouchMoveAnimation.prototype.constructor=sTouchMoveAnimation;sTouchMoveAnimation.prototype.calculateCurrentStep=function(){var e=this.touchmoveTop;return e};sTouchMoveAnimation.prototype.stepComplete=function(){}